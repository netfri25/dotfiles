(defwidget disk-usage-impl [disk]
  (label
    :text "${round(disk.used_perc, 1)}%"
    :tooltip "${replace(formatbytes(disk.used), " ", "")} out of ${replace(formatbytes(disk.total), " ", "")} on /\n${replace(formatbytes(disk.free), " ", "")} free"
    :class "padded-text"
  )
)

(defwidget disk-usage []
  (disk-usage-impl :disk {EWW_DISK["/"]})
)
